<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Multidbs-filesapis2dbs-server by infsci2711</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Multidbs-filesapis2dbs-server</h1>
        <p class="header"><a class="header name" href="index.html">Home</a></p>
        <p class ="header"><a class="header name" href="description.html">Detailed Description</a></p>
        <p class="header"><a class="header name" href="api.html">REST API documentations</a></p>
        <p class="header">This project is maintained by <a class="header name" href="https://github.com/infsci2711">infsci2711</a></p>


      </header>
      <section>
        <h1>
<a id="multidbs-filesapis2dbs-server" class="anchor" href="#multidbs-filesapis2dbs-server" aria-hidden="true"><span class="octicon octicon-link"></span></a>MultiDBs-FilesAPIs2DBs-Server</h1>

<p><h3>PROJECT INSTALLATION <br><br></h3>
1.Logging into the server<br>
Mac: <br>
a.input: <br>
<code> ssh YOURUSERNAME@IP </code><br>
b.input your password<br>
Windows: <br>
a. download PuTTy <br>
b. In the opened window enter server IP in the host area and leave port 22 as default. <br>
c. Then click open and in the opened window enter your username, hit enter, then enter your password.<br><br>

2. Preparing Ubuntu<br>
input:<br>
<code> 
sudo apt-get install maven<br>
sudo apt-get install git<br>
sudo apt-get install openjdk-7-jdk<br>
sudo apt-get install mysql-server<br>
sudo apt-get install nginx<br>
</code><br><br>

3. Getting the source code to the server<br>
a. Create project and deployed folder under the /opt folder:<br>
<code> 
cd /opt<br>
sudo mkdir project<br>
cd project<br>
sudo mkdir deployed<br>
cd deployed<br>
sudo mkdir upload<br>
</code><br>
b. Clone all required github repos<br>
<code>
cd /opt/project<br>
sudo git clone https://github.com/infsci2711/MultiDBs-Utils.git<br>
sudo git clone https://github.com/infsci2711/MultiDBs-FilesAPIs2DBs-Server.git<br>
sudo git clone https://github.com/infsci2711/MultiDBs-FilesAPIs2DBs-WebClient.git<br>
</code><br>
c. Serve it with the nginx<br>
<code> 
cd /usr/share/nginx<br>
sudo rm -R html<br>
sudo ln -sv /opt/project/MultiDBs-FilesAPIs2DBs-WebClient/WebContent html<br>
</code> <br>
d. Change the restBaseUrl<br>
"We can do that for you. Otherwise you need to change it in the code."<br>
In /opt/project/MultiDBs-FilesAPIs2DBs-WebClient/WebContent/javascripts/SPSSUpload.js<br>
change the following part according to you IP.<br>
<code>
var restBaseUrl = "http://52.0.4.98:7654/";<br>
</code><br>
e. Make your MySQL accessible remotely.<br>
<code>
cd /etc/mysql<br>
vi my.cnf<br>
</code>
change the #bind-address to 0.0.0.0<br>
Save it.<br><br>

4. Publish your server<br>
<code>
cd /opt/project/MultiDBs-FilesAPIs2DBs-Server<br>
sh startup.sh<br>
sh mvnInstall.sh<br>
</code><br>

5. Congratulations, you have published you own SPSS file upload and download system.<br>

</p>




<p><h3>PROJECT DESCRIPTION</p></h3>

<p>Generally, our project has three parts, the front end, Dataverse interface and the back end.</p>

<p>The front end is basicly a html page. The html page allows user to upload a SPSS file by form or request a SPSS file from Dataverse. The front end will post the uploaded file to Ubuntu server. </p>

<p>When the user request a file from the Dataverse, our API will post the name of the requested dataset to the Dataverse. Dataverse will generate a URL as a return that our API can use RESTful to get the meta data of the requested dataset. The meta data we needed is the ID of the dataset. Our API will read the ID and make a new request to the Dataverse using this ID. By submittin this ID, Dataverse will return the desired file to our API and the API will uploaded the file to the Ubuntu server to wait for next command. </p>

<p>The back end is the file handling part. Firstly, the SPSS reader in the back end will parse the file to an arraylist and recognize the form name, row name and the column name. In order to make sure all data is store correctly, we store all data as string. Our file reader will re-build the dataset that putting every data in right format. And the API will patch up a SQL to create a new table and record the data in our database in Ubuntu server base on the disposed data.</p>

<p>Due to limitation of time, our project only have handle SPSS file at this time. But it has the potential of reading all file types and store the data to the database. </p>

<p>Any other group which need convert a SPSS file to readable data in server can use our API. Or any user wants to request data from Dataverse is highly recommanded to use our API. </p>

<p>To start our project, developers need an account of Ubuntu server and knowledge of request to RESTful web service that can communicate with Dataverse. </p>

<p>Any updates in our project need to use the mvnInstall.sh script in the MultiDBsFilesAPIs2DBsServerAPI/target. Just simply cd to the location and use sh mvnInshall.sh command to run the script. From the fresh installation, user need to run the startup.sh script in the same directory to initialize the Ubuntu server.</p>


      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
